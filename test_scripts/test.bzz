

function init() {
    s0 = swarm.create(0)
    s1 = swarm.create(1)

    # Join one or both swarms depending on ID value
    s0.select(id == 1)
    s1.select(id == 2)
}

function step() {
    s0.exec(swarm_behavior)
    s1.exec(swarm_behavior)
}

function swarm_behavior() {
    toggle_led()
    print_swarm_id(swarm.id())

    # Switch behavior depending on the swarm executing the closure
    if (swarm.id() == 0){
        delay(250)
    }
    else {
        delay(1000)
    }

}
